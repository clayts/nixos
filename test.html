<head><meta charset="utf-8" /></head>
<h1 id="to-do">To Do</h1>
<ul>
<li>Cheese</li>
<li>Howdy</li>
<li>Custom boot logo</li>
<li>Make firefox initial window size constant</li>
<li>Check out:
<ul>
<li>setzer: latex editor</li>
<li>LMMS: music studio</li>
<li>gcompris: games for 2-10 year olds</li>
</ul></li>
</ul>
<h1 id="migration">Migration</h1>
<ol type="1">
<li><p>Partition the disk if necessary.</p></li>
<li><p>Mount the destination root filesystem at <code>/mnt</code>:</p>
<pre><code> sudo mount /dev/disk/by-partlabel/root /mnt</code></pre></li>
<li><p>Mount the boot filesystem at <code>/mnt/boot</code></p>
<pre><code> sudo mkdir /mnt/boot
 sudo mount -o umask=077 /dev/disk/by-partlabel/boot /mnt/boot</code></pre></li>
<li><p>Activate swap, if necessary:</p>
<pre><code> sudo swapon /dev/disk/by-partlabel/swap</code></pre></li>
<li><p>Mount other partitions, if necessary.</p></li>
<li><p>Get this flake:</p>
<pre><code> nix --extra-experimental-features nix-command --extra-experimental-features flakes run nixpkgs#github-cli -- auth login
 git clone https://github.com/clayts/nixos
 cd nixos</code></pre></li>
<li><p>Scan hardware and push changes so they arenâ€™t lost:</p>
<pre><code> nixos-generate-config --root /mnt --show-hardware-config &gt; hardware/system.nix
 git commit -am &quot;migration&quot;
 git push</code></pre></li>
<li><p>Install:</p>
<pre><code>sudo nixos-install --flake .#os --root /mnt</code></pre></li>
<li><p>Reboot</p></li>
</ol>
